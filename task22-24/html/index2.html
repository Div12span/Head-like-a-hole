<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>22-24第二份作业</title>
</head>
	<style>
		div>button {
			margin-top:5px;
		}
		p {
			font-size:19px; color: #8cc540; font-weight: 800;
		}
	</style>
<body>
	<div>
    <label>String A:
        <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
    </label>
    <textarea id="str-a"></textarea>
    <label>String B:
        <input id="radio-b" type="radio" name="str-obj" value="b">
    </label>
    <textarea id="str-b"></textarea><br>
   <label>Num A：<input id="num-a" type="number" value="0"></label>
    <label>Num B：<input id="num-b" type="number" value="1"></label>
</div>
<div>
    <button onclick="contentL()">获取当前选中输入的内容长度</button><br>
    <button onclick="theThir()">当前选中输入中的第3个字符</button><br>
    <button onclick="con()">把两个输入框的文字连接在一起输出（concat）</button><br>
    <button onclick="index()">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button><br>
    <button onclick="indexRever()">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button><br>
    <button class="slice">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button><br>
    <button>当前选中输入框的行数</button><br>
    <button class="sub">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button><br>
    <button onclick="toUp()">把所选输入框中的内容全部转为大写</button><br>
    <button onclick="toLow()">把所选输入框中的内容全部转为小写</button><br>
    <button onclick="dele()">把所选输入框中内容的半角空格全部去除</button><br>
    <button onclick="replaceA()">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
</div>
<p id="result">结果</p>
<script>
	var radioA = document.getElementById('radio-a');
	var radioB = document.getElementById('radio-b');
	var strA = document.getElementById('str-a');
	var strB = document.getElementById('str-b');
	var result = document.getElementById('result');
	var num1 = document.getElementById('num-a');
	var num2 = document.getElementById('num-b');
	var slice = document.getElementsByClassName('slice')[0];
	var sub = document.getElementsByClassName('sub')[0];
	function contentL() {
		if(radioA.checked) {
			var len = strA.value;
			result.innerHTML = "获取当前选中输入的内容长度： " + len.length;
		}else if(radioB.checked) {
			var len = strB.value;
			result.innerHTML = "获取当前选中输入的内容长度： " + len.length;
		}
	}
	function theThir() {
		if(radioA.checked) {
			var text = strA.value;
			if(text.charAt(2)=="") {
				result.innerHTML = "当前选中输入中的第3个字符： " + "空字符";
			}else {
				result.innerHTML = "当前选中输入中的第3个字符： " + text.charAt(2);
			}
		}else if(radioB.checked) {
			var text = strB.value;
			if(text.charAt(2)=="") {
				result.innerHTML = "当前选中输入中的第3个字符： " + "空字符";
			}else {
				result.innerHTML = "当前选中输入中的第3个字符： " + text.charAt(2);	
			}
		}
	}
	function con() {
		var text1 = strA.value;
		var text2 = strB.value;
		var text = text1.concat(text2);
		if(text==""){
			result.innerHTML = "两个输入框都没输入内容";	
		}else {
			result.innerHTML = "把两个输入框的文字连接在一起输出： " + text;
		}
	}
	function index() {
		var text1 = strA.value;
		var text2 = strB.value;
		if(text1==""||text2==""){
			result.innerHTML = "输入框都没输入内容";
		}else if(text1.indexOf(text2)==-1) {
			result.innerHTML = "输入框B中的内容没有出现在输入框A的内容中";
		}else {
			var text = text1.indexOf(text2) + 1;
			result.innerHTML = "输入框B中的内容出现在输入框A的内容中第一次是: " + "第" + text + "位";
		}
	}
	function indexRever() {
		var text1 = strA.value;
		var text2 = strB.value;
		if(text1==""&&text2==""){
			result.innerHTML = "两个输入框都没输入内容";
		}else if(text2.lastIndexOf(text1)==-1) {
			result.innerHTML = "输入框A中的内容没有出现在输入框B的内容中";
		}else {
			var text = text2.lastIndexOf(text1) + 1;
			result.innerHTML = "输入框A中的内容出现在输入框B的内容中最后一次是: " + "第" + text + "位";
		}
	}
	function sliceShow(a,b) {
		var text1 = strA.value;
		var text2 = strB.value;
		if(radioA.checked) {
			var text = text1.slice(a,b);
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "获取选中输入框内容的部分内容: " + text;
			}
		}else if(radioB.checked) {
			var text = text2.slice(a,b);
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "获取选中输入框内容的部分内容: " + text;
			}
		}
	}
	slice.onclick=function() {
		var a , b;
		b = num2.value;
		if(num1.value<=0) {
			a = 0; 
		}else {
			a = num1.value - 1;
		}
		
		sliceShow(a,b);
	}
	function subStr(a,b) {
		var text1 = strA.value;
		var text2 = strB.value;
		if(radioA.checked) {
			var text = text1.substr(a,b);
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "获取选中输入框内容的部分内容: " + text;
			}
		}else if(radioB.checked) {
			var text = text2.substr(a,b);
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "获取选中输入框内容的部分内容: " + text;
			}
		}
	}
	sub.onclick=function() {
		var a , b;
		b = num2.value;
		if(num1.value<=0) {
			a = 0; 
		}else {
			a = num1.value - 1;
		}
		subStr(a,b);
	}
	function toUp() {
		var text1 = strA.value;
		var text2 = strB.value;
		if(radioA.checked) {
			var text = text1.toUpperCase();
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "选中输入框内容转化为大写是: " + text;
			}
		}else if(radioB.checked) {
			var text = text2.toUpperCase();
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "选中输入框内容转化为大写是: " + text;
			}
		}
	}
	function toLow() {
		var text1 = strA.value;
		var text2 = strB.value;
		if(radioA.checked) {
			var text = text1.toLowerCase();
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "选中输入框内容转化为小写是: " + text;
			}
		}else if(radioB.checked) {
			var text = text2.toLowerCase();
			if(text==""){
				result.innerHTML = "空字符";
			}else {
				result.innerHTML = "选中输入框内容转化为小写是: " + text;
			}
		}
	}
	function dele() {
		var text1 = strA.value;
		var text2 = strB.value;
		if(radioA.checked) {
			if(text1==""){
				result.innerHTML = "选中输入框内容是空的" ;
			}else {
				var len = text1.length;
				var newStr = "";				
				for(var i=0;i<len;i++){					
					if(text1.charCodeAt(i)!=32) {
						newStr += text1[i];
					}					
				}
				strA.value = newStr;
			}
		}else if(radioB.checked) {
			if(text2==""){
				result.innerHTML = "选中输入框内容是空的" ;
			}else {
				var len = text2.length;
				var newStr = "";				
				for(var i=0;i<len;i++){					
					if(text2.charCodeAt(i)!=32) {
						newStr += text2[i];
					}					
				}
				strB.value = newStr;
			}
		}
	}
	function replaceA() {
		var text1 = strA.value;
		var text2 = strB.value;
		if(radioA.checked) {
			if(text1==""){
				result.innerHTML = "选中输入框内容是空的" ;
			}else {
				var text = text1.replace(/a/g,text2);
				strA.value = text;
			}
		}else if(radioB.checked) {
			if(text2==""){
				result.innerHTML = "选中输入框内容是空的" ;
			}else {
				var text = text2.replace(/a/g,text1);
				strB.value = text;
			}
		}
	}
</script>
</body>
</html>